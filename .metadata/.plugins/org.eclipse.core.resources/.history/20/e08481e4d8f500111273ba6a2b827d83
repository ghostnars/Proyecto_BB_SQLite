package mypackage;

import net.rim.device.api.database.Cursor;
import net.rim.device.api.database.Database;
import net.rim.device.api.database.DatabaseFactory;
import net.rim.device.api.database.Row;
import net.rim.device.api.database.Statement;
import net.rim.device.api.io.URI;
import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.component.Dialog;
import net.rim.device.api.ui.component.LabelField;

/**
 * A class extending the MainScreen class, which provides default standard
 * behavior for BlackBerry GUI applications.
 */
public final class MyScreen extends Metodos implements FieldChangeListener
{
    /**
     * Creates a new MyScreen object
     */
	Config ver = new Config();
	Config statement = new Config();
    public MyScreen()
    {        
    
        setTitle("Cargado de materias");

		try{ 
			
			
			        URI uri = URI.create(ver.Path());
			Database sqliteDB = DatabaseFactory.create(uri);
			
			Statement st = sqliteDB.createStatement(statement.CreateMateria());
			st.prepare();
			st.execute();
			st.close();
			
			Statement ct = sqliteDB.createStatement(statement.CreateApunte());
			ct.prepare();
			ct.execute();
			ct.close();
			LabelField textda = new LabelField("Creo la base de datos");
		    add(textda);
		    
		}catch(Exception e ){
			LabelField textq = new LabelField("error"+e.getMessage().toString());
		    add(textq);
	       // e.printStackTrace();
		}finally{
			LabelField texta = new LabelField("entro al finally");
		    add(texta);
		}  
		
		
 

   /** public void llamar(){
    	openScreen(new materiaLista());
    	
    }*/
    }
	public void fieldChanged(Field field, int context) {
		// TODO Auto-generated method stub
		
	}
}
